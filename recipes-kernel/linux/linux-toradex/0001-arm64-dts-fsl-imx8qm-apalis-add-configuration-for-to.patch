From 302d5081abc760b389f3fc89138865137d2f2320 Mon Sep 17 00:00:00 2001
From: Stefan Eichenberger <stefan.eichenberger@toradex.com>
Date: Wed, 18 Mar 2020 18:56:32 +0100
Subject: [PATCH 1/3] arm64: dts: fsl-imx8qm-apalis: add configuration for
 torizon

For torizon we disable all interfaces which are not part of the module.

Signed-off-by: Stefan Eichenberger <stefan.eichenberger@toradex.com>
---
 .../dts/freescale/fsl-imx8qm-apalis-eval.dts  |  3 ++-
 .../fsl-imx8qm-apalis-ixora-v1.1.dts          |  1 +
 .../freescale/fsl-imx8qm-apalis-torizon.dtsi  | 20 +++++++++++++++++++
 3 files changed, 23 insertions(+), 1 deletion(-)
 create mode 100644 arch/arm64/boot/dts/freescale/fsl-imx8qm-apalis-torizon.dtsi

diff --git a/arch/arm64/boot/dts/freescale/fsl-imx8qm-apalis-eval.dts b/arch/arm64/boot/dts/freescale/fsl-imx8qm-apalis-eval.dts
index bef11172983e5..010c614062401 100644
--- a/arch/arm64/boot/dts/freescale/fsl-imx8qm-apalis-eval.dts
+++ b/arch/arm64/boot/dts/freescale/fsl-imx8qm-apalis-eval.dts
@@ -7,8 +7,9 @@
 
 #include "fsl-imx8qm-apalis.dtsi"
 #include "fsl-imx8qm-apalis-eval.dtsi"
+#include "fsl-imx8qm-apalis-torizon.dtsi"
 
 / {
 	model = "Toradex Apalis iMX8QM/QP on Apalis Evaluation Board";
 	compatible = "toradex,apalis-imx8qm-eval", "toradex,apalis-imx8qm", "fsl,imx8qm";
-};
\ No newline at end of file
+};
diff --git a/arch/arm64/boot/dts/freescale/fsl-imx8qm-apalis-ixora-v1.1.dts b/arch/arm64/boot/dts/freescale/fsl-imx8qm-apalis-ixora-v1.1.dts
index 7a79599123a47..858100b21dda3 100644
--- a/arch/arm64/boot/dts/freescale/fsl-imx8qm-apalis-ixora-v1.1.dts
+++ b/arch/arm64/boot/dts/freescale/fsl-imx8qm-apalis-ixora-v1.1.dts
@@ -7,6 +7,7 @@
 
 #include "fsl-imx8qm-apalis.dtsi"
 #include "fsl-imx8qm-apalis-ixora-v1.1.dtsi"
+#include "fsl-imx8qm-apalis-torizon.dtsi"
 
 / {
 	model = "Toradex Apalis iMX8QM/QP on Apalis Ixora V1.1 Carrier Board";
diff --git a/arch/arm64/boot/dts/freescale/fsl-imx8qm-apalis-torizon.dtsi b/arch/arm64/boot/dts/freescale/fsl-imx8qm-apalis-torizon.dtsi
new file mode 100644
index 0000000000000..61afebe07e467
--- /dev/null
+++ b/arch/arm64/boot/dts/freescale/fsl-imx8qm-apalis-torizon.dtsi
@@ -0,0 +1,19 @@
+/ {
+    aliases {
+        rtc0 = &rtc;
+    };
+    lvds1_panel {
+        status = "disabled";
+    };
+};
+
+/delete-node/ &atmel_mxt_ts;
+/delete-node/ &rtc_i2c;
+
+&ldb2 {
+    status = "disabled";
+};
+
+&ldb2_phy {
+    status = "disabled";
+};
-- 
2.17.1

